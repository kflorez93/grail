{
  "name": "web",
  "version": "0.1.0",
  "description": "Web/docs capability via Grail daemon: render, extract, search, docs bundling.",
  "commands": [
    { "name": "health", "outputs": "JSON", "desc": "Daemon health" },
    { "name": "render", "args": ["url", "outDir?"], "flags": ["wait-strategy", "wait-selector", "wait-ms", "pretty"], "outputs": "JSON", "desc": "Render URL (HTML + screenshot)" },
    { "name": "extract", "args": ["file|url", "outDir?"], "flags": ["wait-strategy", "wait-selector", "wait-ms", "pretty"], "outputs": "JSON", "desc": "Extract readable text + metadata" },
    { "name": "search", "args": ["query"], "flags": ["site", "n"], "outputs": "JSONL", "desc": "Search provider (DDG/Google CSE)" },
    { "name": "pick", "args": ["query"], "flags": ["site", "n"], "outputs": "JSONL", "desc": "Heuristic ranking of docs URLs" },
    { "name": "docs", "args": ["topic"], "flags": ["site", "n", "pretty"], "outputs": "JSON", "desc": "Bundle top N docs into .grail-cache" }
  ],
  "env": {
    "GRAIL_CACHE_DIR": ".grail-cache (default)",
    "GRAIL_MAX_PARALLEL": "4 (default)",
    "GRAIL_RPS": "4 (default)",
    "GRAIL_CACHE_MAX_RUNS": "30 (default)",
    "GRAIL_DISABLE_BROWSER": "unset by default",
    "GRAIL_SEARCH_PROVIDER": "ddg|google",
    "GRAIL_GOOGLE_API_KEY": "required if provider=google",
    "GRAIL_GOOGLE_CX": "required if provider=google"
  },
  "schemas": {
    "render": { "schema_version": "string", "url": "string", "title": "string", "final_html": "abs path", "screenshot": "abs path?" },
    "extract": { "schema_version": "string", "readable_txt": "abs path", "meta_json": "abs path" },
    "batch": { "schema_version": "string", "results": "array of render or error" },
    "docs": { "bundle_json": "abs path" }
  },
  "examples": [
    "grail health --pretty",
    "grail search 'nextjs static generation' --site vercel.com",
    "grail pick 'nextjs static generation' --site vercel.com --n 3",
    "grail docs 'nextjs static generation' --site vercel.com --n 3 --pretty"
  ]
}

